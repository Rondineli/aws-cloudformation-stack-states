<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: create_stack Pages: 1 -->
<svg width="744pt" height="667pt"
 viewBox="0.00 0.00 743.59 667.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 663)">
<title>create_stack</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-663 739.587,-663 739.587,4 -4,4"/>
<!-- before_existence -->
<g id="node1" class="node"><title>before_existence</title>
<ellipse fill="none" stroke="black" cx="175.612" cy="-641" rx="39.1641" ry="18"/>
<text text-anchor="middle" x="175.612" y="-636.8" font-family="Times,serif" font-size="14.00">no stack</text>
</g>
<!-- CREATE_IN_PROGRESS -->
<g id="node3" class="node"><title>CREATE_IN_PROGRESS</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="175.612" cy="-568" rx="106.335" ry="18"/>
<text text-anchor="middle" x="175.612" y="-563.8" font-family="Times,serif" font-size="14.00">CREATE_IN_PROGRESS</text>
</g>
<!-- before_existence&#45;&gt;CREATE_IN_PROGRESS -->
<g id="edge1" class="edge"><title>before_existence&#45;&gt;CREATE_IN_PROGRESS</title>
<path fill="none" stroke="black" d="M175.612,-622.813C175.612,-614.789 175.612,-605.047 175.612,-596.069"/>
<polygon fill="black" stroke="black" points="179.112,-596.029 175.612,-586.029 172.112,-596.029 179.112,-596.029"/>
</g>
<!-- CREATE_COMPLETE -->
<g id="node2" class="node"><title>CREATE_COMPLETE</title>
<ellipse fill="none" stroke="black" cx="94.612" cy="-336" rx="94.7242" ry="18"/>
<text text-anchor="middle" x="94.612" y="-331.8" font-family="Times,serif" font-size="14.00">CREATE_COMPLETE</text>
</g>
<!-- try_creates -->
<g id="node8" class="node"><title>try_creates</title>
<polygon fill="none" stroke="black" points="278.965,-513 72.2594,-513 72.2594,-477 278.965,-477 278.965,-513"/>
<text text-anchor="middle" x="175.612" y="-497.8" font-family="Times,serif" font-size="14.00">Try creating the resources</text>
<text text-anchor="middle" x="175.612" y="-483.8" font-family="Times,serif" font-size="14.00">(respecting the dependency order)</text>
</g>
<!-- CREATE_IN_PROGRESS&#45;&gt;try_creates -->
<g id="edge2" class="edge"><title>CREATE_IN_PROGRESS&#45;&gt;try_creates</title>
<path fill="none" stroke="black" d="M175.612,-549.813C175.612,-541.789 175.612,-532.047 175.612,-523.069"/>
<polygon fill="black" stroke="black" points="179.112,-523.029 175.612,-513.029 172.112,-523.029 179.112,-523.029"/>
</g>
<!-- CREATE_FAILED -->
<g id="node4" class="node"><title>CREATE_FAILED</title>
<ellipse fill="none" stroke="black" cx="315.612" cy="-250" rx="78.9521" ry="18"/>
<text text-anchor="middle" x="315.612" y="-245.8" font-family="Times,serif" font-size="14.00">CREATE_FAILED</text>
</g>
<!-- ROLLBACK_COMPLETE -->
<g id="node5" class="node"><title>ROLLBACK_COMPLETE</title>
<ellipse fill="none" stroke="black" cx="422.612" cy="-18" rx="108.724" ry="18"/>
<text text-anchor="middle" x="422.612" y="-13.8" font-family="Times,serif" font-size="14.00">ROLLBACK_COMPLETE</text>
</g>
<!-- ROLLBACK_FAILED -->
<g id="node6" class="node"><title>ROLLBACK_FAILED</title>
<ellipse fill="none" stroke="black" cx="642.612" cy="-18" rx="92.9509" ry="18"/>
<text text-anchor="middle" x="642.612" y="-13.8" font-family="Times,serif" font-size="14.00">ROLLBACK_FAILED</text>
</g>
<!-- ROLLBACK_IN_PROGRESS -->
<g id="node7" class="node"><title>ROLLBACK_IN_PROGRESS</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="532.612" cy="-250" rx="120.835" ry="18"/>
<text text-anchor="middle" x="532.612" y="-245.8" font-family="Times,serif" font-size="14.00">ROLLBACK_IN_PROGRESS</text>
</g>
<!-- try_deletes -->
<g id="node11" class="node"><title>try_deletes</title>
<polygon fill="none" stroke="black" points="635.965,-195 429.259,-195 429.259,-159 635.965,-159 635.965,-195"/>
<text text-anchor="middle" x="532.612" y="-179.8" font-family="Times,serif" font-size="14.00">Try deleting the resources</text>
<text text-anchor="middle" x="532.612" y="-165.8" font-family="Times,serif" font-size="14.00">(respecting the dependency order)</text>
</g>
<!-- ROLLBACK_IN_PROGRESS&#45;&gt;try_deletes -->
<g id="edge8" class="edge"><title>ROLLBACK_IN_PROGRESS&#45;&gt;try_deletes</title>
<path fill="none" stroke="black" d="M532.612,-231.813C532.612,-223.789 532.612,-214.047 532.612,-205.069"/>
<polygon fill="black" stroke="black" points="536.112,-205.029 532.612,-195.029 529.112,-205.029 536.112,-205.029"/>
</g>
<!-- check_creates -->
<g id="node9" class="node"><title>check_creates</title>
<polygon fill="none" stroke="black" points="175.612,-440 22.2554,-422 175.612,-404 328.969,-422 175.612,-440"/>
<text text-anchor="middle" x="175.612" y="-417.8" font-family="Times,serif" font-size="14.00">Did the creates all succeed?</text>
</g>
<!-- try_creates&#45;&gt;check_creates -->
<g id="edge3" class="edge"><title>try_creates&#45;&gt;check_creates</title>
<path fill="none" stroke="black" d="M175.612,-476.813C175.612,-468.789 175.612,-459.047 175.612,-450.069"/>
<polygon fill="black" stroke="black" points="179.112,-450.029 175.612,-440.029 172.112,-450.029 179.112,-450.029"/>
</g>
<!-- check_creates&#45;&gt;CREATE_COMPLETE -->
<g id="edge4" class="edge"><title>check_creates&#45;&gt;CREATE_COMPLETE</title>
<path fill="none" stroke="black" d="M160.755,-405.593C148.809,-393.205 131.807,-375.572 118.032,-361.287"/>
<polygon fill="black" stroke="black" points="120.224,-358.519 110.763,-353.75 115.185,-363.378 120.224,-358.519"/>
<text text-anchor="middle" x="149.943" y="-374.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- do_we_need_rollback -->
<g id="node10" class="node"><title>do_we_need_rollback</title>
<polygon fill="none" stroke="black" points="379.612,-354 207.552,-336 379.612,-318 551.672,-336 379.612,-354"/>
<text text-anchor="middle" x="379.612" y="-331.8" font-family="Times,serif" font-size="14.00">Did any of the creates succeed?</text>
</g>
<!-- check_creates&#45;&gt;do_we_need_rollback -->
<g id="edge5" class="edge"><title>check_creates&#45;&gt;do_we_need_rollback</title>
<path fill="none" stroke="black" d="M207.936,-407.69C242.84,-393.318 298.594,-370.36 337.044,-354.528"/>
<polygon fill="black" stroke="black" points="338.509,-357.71 346.424,-350.666 335.844,-351.237 338.509,-357.71"/>
<text text-anchor="middle" x="296.612" y="-374.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
<!-- do_we_need_rollback&#45;&gt;CREATE_FAILED -->
<g id="edge6" class="edge"><title>do_we_need_rollback&#45;&gt;CREATE_FAILED</title>
<path fill="none" stroke="black" d="M367.574,-319.2C358.338,-307.078 345.409,-290.109 334.758,-276.129"/>
<polygon fill="black" stroke="black" points="337.319,-273.715 328.474,-267.882 331.751,-277.957 337.319,-273.715"/>
<text text-anchor="middle" x="357.612" y="-288.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
<!-- do_we_need_rollback&#45;&gt;ROLLBACK_IN_PROGRESS -->
<g id="edge7" class="edge"><title>do_we_need_rollback&#45;&gt;ROLLBACK_IN_PROGRESS</title>
<path fill="none" stroke="black" d="M405.914,-320.56C430.017,-307.327 466.024,-287.558 493.499,-272.474"/>
<polygon fill="black" stroke="black" points="495.378,-275.435 502.46,-267.554 492.01,-269.299 495.378,-275.435"/>
<text text-anchor="middle" x="473.943" y="-288.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- check_deletes -->
<g id="node12" class="node"><title>check_deletes</title>
<polygon fill="none" stroke="black" points="532.612,-122 379.231,-104 532.612,-86 685.993,-104 532.612,-122"/>
<text text-anchor="middle" x="532.612" y="-99.8" font-family="Times,serif" font-size="14.00">Did the deletes all succeed?</text>
</g>
<!-- try_deletes&#45;&gt;check_deletes -->
<g id="edge9" class="edge"><title>try_deletes&#45;&gt;check_deletes</title>
<path fill="none" stroke="black" d="M532.612,-158.813C532.612,-150.789 532.612,-141.047 532.612,-132.069"/>
<polygon fill="black" stroke="black" points="536.112,-132.029 532.612,-122.029 529.112,-132.029 536.112,-132.029"/>
</g>
<!-- check_deletes&#45;&gt;ROLLBACK_COMPLETE -->
<g id="edge10" class="edge"><title>check_deletes&#45;&gt;ROLLBACK_COMPLETE</title>
<path fill="none" stroke="black" d="M513.199,-88.1758C496.437,-75.3752 471.945,-56.6724 452.653,-41.9404"/>
<polygon fill="black" stroke="black" points="454.544,-38.9805 444.472,-35.693 450.295,-44.5439 454.544,-38.9805"/>
<text text-anchor="middle" x="492.943" y="-56.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- check_deletes&#45;&gt;ROLLBACK_FAILED -->
<g id="edge11" class="edge"><title>check_deletes&#45;&gt;ROLLBACK_FAILED</title>
<path fill="none" stroke="black" d="M552.025,-88.1758C568.787,-75.3752 593.279,-56.6724 612.571,-41.9404"/>
<polygon fill="black" stroke="black" points="614.929,-44.5439 620.752,-35.693 610.68,-38.9805 614.929,-44.5439"/>
<text text-anchor="middle" x="600.612" y="-56.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
</g>
</svg>
