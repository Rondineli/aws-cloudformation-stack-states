<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: delete_stack Pages: 1 -->
<svg width="372pt" height="514pt"
 viewBox="0.00 0.00 372.31 513.91" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 509.912)">
<title>delete_stack</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-509.912 368.312,-509.912 368.312,4 -4,4"/>
<!-- after_existence -->
<g id="node1" class="node"><title>after_existence</title>
<ellipse fill="none" stroke="black" cx="94.5991" cy="-18" rx="39.1641" ry="18"/>
<text text-anchor="middle" x="94.5991" y="-13.8" font-family="Times,serif" font-size="14.00">no stack</text>
</g>
<!-- deletable_stack -->
<g id="node2" class="node"><title>deletable_stack</title>
<ellipse fill="none" stroke="none" cx="146.599" cy="-480.456" rx="71.5358" ry="25.4118"/>
<text text-anchor="middle" x="146.599" y="-483.256" font-family="Times,serif" font-size="14.00">stack</text>
<text text-anchor="middle" x="146.599" y="-469.256" font-family="Times,serif" font-size="14.00">(various states)</text>
</g>
<!-- DELETE_IN_PROGRESS -->
<g id="node5" class="node"><title>DELETE_IN_PROGRESS</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="146.599" cy="-400" rx="106.31" ry="18"/>
<text text-anchor="middle" x="146.599" y="-395.8" font-family="Times,serif" font-size="14.00">DELETE_IN_PROGRESS</text>
</g>
<!-- deletable_stack&#45;&gt;DELETE_IN_PROGRESS -->
<g id="edge1" class="edge"><title>deletable_stack&#45;&gt;DELETE_IN_PROGRESS</title>
<path fill="none" stroke="black" d="M146.599,-454.632C146.599,-446.299 146.599,-436.958 146.599,-428.437"/>
<polygon fill="black" stroke="black" points="150.099,-428.217 146.599,-418.217 143.099,-428.218 150.099,-428.217"/>
</g>
<!-- DELETE_COMPLETE -->
<g id="node3" class="node"><title>DELETE_COMPLETE</title>
<ellipse fill="none" stroke="black" cx="94.5991" cy="-104" rx="94.6982" ry="18"/>
<text text-anchor="middle" x="94.5991" y="-99.8" font-family="Times,serif" font-size="14.00">DELETE_COMPLETE</text>
</g>
<!-- DELETE_COMPLETE&#45;&gt;after_existence -->
<g id="edge7" class="edge"><title>DELETE_COMPLETE&#45;&gt;after_existence</title>
<path fill="none" stroke="black" d="M94.5991,-85.5951C94.5991,-74.2572 94.5991,-59.2271 94.5991,-46.3153"/>
<polygon fill="black" stroke="black" points="98.0992,-46.0951 94.5991,-36.0952 91.0992,-46.0952 98.0992,-46.0951"/>
<text text-anchor="middle" x="132.115" y="-56.8" font-family="Times,serif" font-size="14.00"> 90 days later</text>
</g>
<!-- DELETE_FAILED -->
<g id="node4" class="node"><title>DELETE_FAILED</title>
<ellipse fill="none" stroke="black" cx="285.599" cy="-104" rx="78.9261" ry="18"/>
<text text-anchor="middle" x="285.599" y="-99.8" font-family="Times,serif" font-size="14.00">DELETE_FAILED</text>
</g>
<!-- DELETE_FAILED&#45;&gt;deletable_stack -->
<g id="edge6" class="edge"><title>DELETE_FAILED&#45;&gt;deletable_stack</title>
<path fill="none" stroke="black" d="M289.536,-122.043C300.115,-172.225 324.303,-321.931 261.599,-418 249.422,-436.656 229.612,-450.051 209.838,-459.472"/>
<polygon fill="black" stroke="black" points="208.178,-456.38 200.475,-463.654 211.033,-462.771 208.178,-456.38"/>
</g>
<!-- try_delete -->
<g id="node6" class="node"><title>try_delete</title>
<polygon fill="none" stroke="black" points="228.98,-345 64.2178,-345 64.2178,-281 228.98,-281 228.98,-345"/>
<text text-anchor="middle" x="146.599" y="-329.8" font-family="Times,serif" font-size="14.00">Try deleting each resource</text>
<text text-anchor="middle" x="146.599" y="-315.8" font-family="Times,serif" font-size="14.00">that has not already been</text>
<text text-anchor="middle" x="146.599" y="-301.8" font-family="Times,serif" font-size="14.00">deleted (but see also the</text>
<text text-anchor="middle" x="146.599" y="-287.8" font-family="Times,serif" font-size="14.00">DeletionPolicy)</text>
</g>
<!-- DELETE_IN_PROGRESS&#45;&gt;try_delete -->
<g id="edge2" class="edge"><title>DELETE_IN_PROGRESS&#45;&gt;try_delete</title>
<path fill="none" stroke="black" d="M146.599,-381.799C146.599,-374.104 146.599,-364.669 146.599,-355.312"/>
<polygon fill="black" stroke="black" points="150.099,-355.274 146.599,-345.274 143.099,-355.274 150.099,-355.274"/>
</g>
<!-- check_delete -->
<g id="node7" class="node"><title>check_delete</title>
<polygon fill="none" stroke="black" points="146.599,-244 46.6537,-208 146.599,-172 246.544,-208 146.599,-244"/>
<text text-anchor="middle" x="146.599" y="-210.8" font-family="Times,serif" font-size="14.00">Did the deletes</text>
<text text-anchor="middle" x="146.599" y="-196.8" font-family="Times,serif" font-size="14.00">all succeed?</text>
</g>
<!-- try_delete&#45;&gt;check_delete -->
<g id="edge3" class="edge"><title>try_delete&#45;&gt;check_delete</title>
<path fill="none" stroke="black" d="M146.599,-280.817C146.599,-272.385 146.599,-263.088 146.599,-254.059"/>
<polygon fill="black" stroke="black" points="150.099,-254.04 146.599,-244.04 143.099,-254.04 150.099,-254.04"/>
</g>
<!-- check_delete&#45;&gt;DELETE_COMPLETE -->
<g id="edge4" class="edge"><title>check_delete&#45;&gt;DELETE_COMPLETE</title>
<path fill="none" stroke="black" d="M131.419,-177.223C123.966,-162.603 115.069,-145.152 107.888,-131.066"/>
<polygon fill="black" stroke="black" points="110.889,-129.248 103.229,-121.928 104.653,-132.427 110.889,-129.248"/>
<text text-anchor="middle" x="128.93" y="-142.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- check_delete&#45;&gt;DELETE_FAILED -->
<g id="edge5" class="edge"><title>check_delete&#45;&gt;DELETE_FAILED</title>
<path fill="none" stroke="black" d="M174.585,-181.647C189.549,-168.591 208.563,-152.775 226.599,-140 233.296,-135.256 240.662,-130.531 247.852,-126.157"/>
<polygon fill="black" stroke="black" points="249.999,-128.952 256.802,-120.83 246.419,-122.937 249.999,-128.952"/>
<text text-anchor="middle" x="233.599" y="-142.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
</g>
</svg>
