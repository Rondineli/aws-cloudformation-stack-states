<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: create_stack Pages: 1 -->
<svg width="802pt" height="740pt"
 viewBox="0.00 0.00 802.36 740.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 736)">
<title>create_stack</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-736 798.3647,-736 798.3647,4 -4,4"/>
<!-- before_existence -->
<g id="node1" class="node">
<title>before_existence</title>
<ellipse fill="none" stroke="#000000" cx="174.3893" cy="-714" rx="39.1641" ry="18"/>
<text text-anchor="middle" x="174.3893" y="-709.8" font-family="Times,serif" font-size="14.00" fill="#000000">no stack</text>
</g>
<!-- REVIEW_IN_PROGRESS -->
<g id="node2" class="node">
<title>REVIEW_IN_PROGRESS</title>
<ellipse fill="none" stroke="#000000" stroke-dasharray="1,5" cx="107.3893" cy="-641" rx="107.2786" ry="18"/>
<text text-anchor="middle" x="107.3893" y="-636.8" font-family="Times,serif" font-size="14.00" fill="#000000">REVIEW_IN_PROGRESS</text>
</g>
<!-- before_existence&#45;&gt;REVIEW_IN_PROGRESS -->
<g id="edge4" class="edge">
<title>before_existence&#45;&gt;REVIEW_IN_PROGRESS</title>
<path fill="none" stroke="#000000" d="M158.8497,-697.0688C150.4708,-687.9395 139.9635,-676.4914 130.6316,-666.3238"/>
<polygon fill="#000000" stroke="#000000" points="133.1197,-663.8585 123.7793,-658.8578 127.9626,-668.5918 133.1197,-663.8585"/>
</g>
<!-- CREATE_IN_PROGRESS -->
<g id="node4" class="node">
<title>CREATE_IN_PROGRESS</title>
<ellipse fill="none" stroke="#000000" stroke-dasharray="1,5" cx="174.3893" cy="-568" rx="106.3355" ry="18"/>
<text text-anchor="middle" x="174.3893" y="-563.8" font-family="Times,serif" font-size="14.00" fill="#000000">CREATE_IN_PROGRESS</text>
</g>
<!-- before_existence&#45;&gt;CREATE_IN_PROGRESS -->
<g id="edge1" class="edge">
<title>before_existence&#45;&gt;CREATE_IN_PROGRESS</title>
<path fill="none" stroke="#000000" d="M194.2671,-698.205C205.1215,-688.2621 217.5178,-674.4169 223.3893,-659 229.0838,-644.0477 229.0838,-637.9523 223.3893,-623 219.1297,-611.8155 211.436,-601.4581 203.3884,-592.8179"/>
<polygon fill="#000000" stroke="#000000" points="205.8346,-590.3142 196.3024,-585.6893 200.87,-595.2491 205.8346,-590.3142"/>
</g>
<!-- REVIEW_IN_PROGRESS&#45;&gt;CREATE_IN_PROGRESS -->
<g id="edge5" class="edge">
<title>REVIEW_IN_PROGRESS&#45;&gt;CREATE_IN_PROGRESS</title>
<path fill="none" stroke="#000000" d="M123.9511,-622.9551C132.1457,-614.0265 142.1754,-603.0987 151.1264,-593.3461"/>
<polygon fill="#000000" stroke="#000000" points="153.8347,-595.5714 158.018,-585.8374 148.6775,-590.8381 153.8347,-595.5714"/>
</g>
<!-- CREATE_COMPLETE -->
<g id="node3" class="node">
<title>CREATE_COMPLETE</title>
<ellipse fill="none" stroke="#000000" cx="153.3893" cy="-336" rx="94.7242" ry="18"/>
<text text-anchor="middle" x="153.3893" y="-331.8" font-family="Times,serif" font-size="14.00" fill="#000000">CREATE_COMPLETE</text>
</g>
<!-- try_creates -->
<g id="node9" class="node">
<title>try_creates</title>
<polygon fill="none" stroke="#000000" points="277.7419,-513 71.0367,-513 71.0367,-477 277.7419,-477 277.7419,-513"/>
<text text-anchor="middle" x="174.3893" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000">Try creating the resources</text>
<text text-anchor="middle" x="174.3893" y="-483.8" font-family="Times,serif" font-size="14.00" fill="#000000">(respecting the dependency order)</text>
</g>
<!-- CREATE_IN_PROGRESS&#45;&gt;try_creates -->
<g id="edge2" class="edge">
<title>CREATE_IN_PROGRESS&#45;&gt;try_creates</title>
<path fill="none" stroke="#000000" d="M174.3893,-549.9551C174.3893,-541.8828 174.3893,-532.1764 174.3893,-523.1817"/>
<polygon fill="#000000" stroke="#000000" points="177.8894,-523.0903 174.3893,-513.0904 170.8894,-523.0904 177.8894,-523.0903"/>
</g>
<!-- CREATE_FAILED -->
<g id="node5" class="node">
<title>CREATE_FAILED</title>
<ellipse fill="none" stroke="#000000" cx="374.3893" cy="-250" rx="78.9521" ry="18"/>
<text text-anchor="middle" x="374.3893" y="-245.8" font-family="Times,serif" font-size="14.00" fill="#000000">CREATE_FAILED</text>
</g>
<!-- ROLLBACK_COMPLETE -->
<g id="node6" class="node">
<title>ROLLBACK_COMPLETE</title>
<ellipse fill="none" stroke="#000000" cx="481.3893" cy="-18" rx="108.7237" ry="18"/>
<text text-anchor="middle" x="481.3893" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">ROLLBACK_COMPLETE</text>
</g>
<!-- ROLLBACK_FAILED -->
<g id="node7" class="node">
<title>ROLLBACK_FAILED</title>
<ellipse fill="none" stroke="#000000" cx="701.3893" cy="-18" rx="92.9509" ry="18"/>
<text text-anchor="middle" x="701.3893" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">ROLLBACK_FAILED</text>
</g>
<!-- ROLLBACK_IN_PROGRESS -->
<g id="node8" class="node">
<title>ROLLBACK_IN_PROGRESS</title>
<ellipse fill="none" stroke="#000000" stroke-dasharray="1,5" cx="591.3893" cy="-250" rx="120.8351" ry="18"/>
<text text-anchor="middle" x="591.3893" y="-245.8" font-family="Times,serif" font-size="14.00" fill="#000000">ROLLBACK_IN_PROGRESS</text>
</g>
<!-- try_deletes -->
<g id="node12" class="node">
<title>try_deletes</title>
<polygon fill="none" stroke="#000000" points="694.7419,-195 488.0367,-195 488.0367,-159 694.7419,-159 694.7419,-195"/>
<text text-anchor="middle" x="591.3893" y="-179.8" font-family="Times,serif" font-size="14.00" fill="#000000">Try deleting the resources</text>
<text text-anchor="middle" x="591.3893" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#000000">(respecting the dependency order)</text>
</g>
<!-- ROLLBACK_IN_PROGRESS&#45;&gt;try_deletes -->
<g id="edge10" class="edge">
<title>ROLLBACK_IN_PROGRESS&#45;&gt;try_deletes</title>
<path fill="none" stroke="#000000" d="M591.3893,-231.9551C591.3893,-223.8828 591.3893,-214.1764 591.3893,-205.1817"/>
<polygon fill="#000000" stroke="#000000" points="594.8894,-205.0903 591.3893,-195.0904 587.8894,-205.0904 594.8894,-205.0903"/>
</g>
<!-- check_creates -->
<g id="node10" class="node">
<title>check_creates</title>
<polygon fill="none" stroke="#000000" points="174.3893,-440 21.0327,-422 174.3893,-404 327.7459,-422 174.3893,-440"/>
<text text-anchor="middle" x="174.3893" y="-417.8" font-family="Times,serif" font-size="14.00" fill="#000000">Did the creates all succeed?</text>
</g>
<!-- try_creates&#45;&gt;check_creates -->
<g id="edge3" class="edge">
<title>try_creates&#45;&gt;check_creates</title>
<path fill="none" stroke="#000000" d="M174.3893,-476.9551C174.3893,-468.8828 174.3893,-459.1764 174.3893,-450.1817"/>
<polygon fill="#000000" stroke="#000000" points="177.8894,-450.0903 174.3893,-440.0904 170.8894,-450.0904 177.8894,-450.0903"/>
</g>
<!-- check_creates&#45;&gt;CREATE_COMPLETE -->
<g id="edge6" class="edge">
<title>check_creates&#45;&gt;CREATE_COMPLETE</title>
<path fill="none" stroke="#000000" d="M170.0381,-404.1807C167.2131,-392.612 163.4714,-377.2888 160.2508,-364.0997"/>
<polygon fill="#000000" stroke="#000000" points="163.5795,-362.9766 157.8072,-354.0923 156.7793,-364.6372 163.5795,-362.9766"/>
<text text-anchor="middle" x="174.7203" y="-374.8" font-family="Times,serif" font-size="14.00" fill="#000000">yes</text>
</g>
<!-- do_we_need_rollback -->
<g id="node11" class="node">
<title>do_we_need_rollback</title>
<polygon fill="none" stroke="#000000" points="438.3893,-354 266.329,-336 438.3893,-318 610.4495,-336 438.3893,-354"/>
<text text-anchor="middle" x="438.3893" y="-331.8" font-family="Times,serif" font-size="14.00" fill="#000000">Did any of the creates succeed?</text>
</g>
<!-- check_creates&#45;&gt;do_we_need_rollback -->
<g id="edge7" class="edge">
<title>check_creates&#45;&gt;do_we_need_rollback</title>
<path fill="none" stroke="#000000" d="M215.0607,-408.751C261.1637,-393.7326 336.4206,-369.2171 386.6628,-352.8503"/>
<polygon fill="#000000" stroke="#000000" points="387.9375,-356.1161 396.3616,-349.6908 385.7693,-349.4604 387.9375,-356.1161"/>
<text text-anchor="middle" x="328.3893" y="-374.8" font-family="Times,serif" font-size="14.00" fill="#000000">no</text>
</g>
<!-- do_we_need_rollback&#45;&gt;CREATE_FAILED -->
<g id="edge8" class="edge">
<title>do_we_need_rollback&#45;&gt;CREATE_FAILED</title>
<path fill="none" stroke="#000000" d="M425.7449,-319.0092C416.6343,-306.7668 404.1708,-290.0189 393.8037,-276.0881"/>
<polygon fill="#000000" stroke="#000000" points="396.4463,-273.7765 387.6683,-267.8437 390.8306,-277.9556 396.4463,-273.7765"/>
<text text-anchor="middle" x="416.3893" y="-288.8" font-family="Times,serif" font-size="14.00" fill="#000000">no</text>
</g>
<!-- do_we_need_rollback&#45;&gt;ROLLBACK_IN_PROGRESS -->
<g id="edge9" class="edge">
<title>do_we_need_rollback&#45;&gt;ROLLBACK_IN_PROGRESS</title>
<path fill="none" stroke="#000000" d="M465.3904,-320.8229C489.2065,-307.4361 524.2396,-287.7443 551.3234,-272.5207"/>
<polygon fill="#000000" stroke="#000000" points="553.1736,-275.4958 560.1759,-267.5448 549.7437,-269.3937 553.1736,-275.4958"/>
<text text-anchor="middle" x="532.7203" y="-288.8" font-family="Times,serif" font-size="14.00" fill="#000000">yes</text>
</g>
<!-- check_deletes -->
<g id="node13" class="node">
<title>check_deletes</title>
<polygon fill="none" stroke="#000000" points="591.3893,-122 438.0082,-104 591.3893,-86 744.7703,-104 591.3893,-122"/>
<text text-anchor="middle" x="591.3893" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">Did the deletes all succeed?</text>
</g>
<!-- try_deletes&#45;&gt;check_deletes -->
<g id="edge11" class="edge">
<title>try_deletes&#45;&gt;check_deletes</title>
<path fill="none" stroke="#000000" d="M591.3893,-158.9551C591.3893,-150.8828 591.3893,-141.1764 591.3893,-132.1817"/>
<polygon fill="#000000" stroke="#000000" points="594.8894,-132.0903 591.3893,-122.0904 587.8894,-132.0904 594.8894,-132.0903"/>
</g>
<!-- check_deletes&#45;&gt;ROLLBACK_COMPLETE -->
<g id="edge12" class="edge">
<title>check_deletes&#45;&gt;ROLLBACK_COMPLETE</title>
<path fill="none" stroke="#000000" d="M571.2136,-88.2263C554.6809,-75.3007 531.0166,-56.7995 512.1273,-42.0316"/>
<polygon fill="#000000" stroke="#000000" points="514.1276,-39.1527 504.0938,-35.7508 509.8161,-44.6674 514.1276,-39.1527"/>
<text text-anchor="middle" x="551.7203" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">yes</text>
</g>
<!-- check_deletes&#45;&gt;ROLLBACK_FAILED -->
<g id="edge13" class="edge">
<title>check_deletes&#45;&gt;ROLLBACK_FAILED</title>
<path fill="none" stroke="#000000" d="M611.565,-88.2263C628.0976,-75.3007 651.7619,-56.7995 670.6512,-42.0316"/>
<polygon fill="#000000" stroke="#000000" points="672.9624,-44.6674 678.6848,-35.7508 668.6509,-39.1527 672.9624,-44.6674"/>
<text text-anchor="middle" x="659.3893" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000">no</text>
</g>
</g>
</svg>
